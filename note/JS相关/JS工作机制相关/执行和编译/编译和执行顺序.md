[TOC]
## 1. js编译和执行
https://www.cnblogs.com/ly-china/p/5433702.html（上一个段发生错误不影响下一个段）


## 2. 编译（更具体）
http://caibaojian.com/js-closures-indeep.html

## 3. 函数提升、变量提升 ##

**变量和函数都整体提升后，函数整体在变量的后面**。变量提升之后，但其赋值还是留在原本的位置等js运行到了之后动态赋值，而函数提升之后直接相当于在代码里抽空了。

**“提升”的本质就是为了事先声明变量和函数**，当然函数只有声明式函数才会被提升，字面量函数不会被提升。这种提升就是存在于作用域中，包括全局作用域、函数作用域（闭包形成的作用域也是个函数作用域），总之都是在作用域中声明变量和函数时，会提升到作用域顶部，进行事先声明。

## 4. 函数声明与函数表达式 ##

[函数声明与函数表达式](https://aaron-bird.github.io/2019/04/18/%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E4%B8%8E%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F/)

偶然看到了一道题, 问如下代码中的console输出什么:

```js
var a = 1;
(function a(){
  a = 2;
  console.log(a)}
)()
```

结果console输出的不是数值2,而是函数本身:

```js
ƒ a(){
  a = 2;
  console.log(a)
}
```

### 原因 ###

有两种声明函数的方式:

- 函数声明

```js
function foo() {
  console.log('I am foo')
}
```

- 函数表达式

```js
var bar = function foo() {
  console.log('I am foo')
}
// 这是个函数表达式,而非函数声明
(function foo() {
  console.log('I am foo')
})()
// 匿名函数表达式
(function() {
  console.log('I am foo')
})()
```

函数表达式内部有一个特殊的变量.该变量和函数名相同,指向函数本身,无法被修改.