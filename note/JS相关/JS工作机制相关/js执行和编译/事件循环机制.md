[TOC]

## 1. NODE - Event Loop ##

[JavaScript 运行机制详解：再谈Event Loop——阮一峰老师](http://www.ruanyifeng.com/blog/2014/10/event-loop.html)        

[异步操作概述——阮一峰老师](http://javascript.ruanyifeng.com/advanced/single-thread.html)

[浏览器与Node的事件循环(Event Loop)有何区别?——知乎](<https://zhuanlan.zhihu.com/p/54882306>)

Event Loop是一个程序结构，用于等待和发送消息和事件。（a programming construct that waits for and dispatches events or messages in a program.）
异步任务有了运行结果，就在"任务队列"之中放置一个事件

## 2. 浏览器 - Event Loop ##

[JavaScript 运行机制详解：再谈Event Loop——阮一峰老师](http://www.ruanyifeng.com/blog/2014/10/event-loop.html)       

[异步操作概述——阮一峰老师](http://javascript.ruanyifeng.com/advanced/single-thread.html) 

[浏览器与Node的事件循环(Event Loop)有何区别?——知乎](<https://zhuanlan.zhihu.com/p/54882306>)

[JS浏览器事件循环机制——博客](https://www.cnblogs.com/yqx0605xi/p/9267827.html)

**浏览器内核**

![浏览器内核](..\..\img\浏览器内核.png)

**事件循环**

![event-loop](..\..\img\event-loop.png)

**事件循环流程图**

![event-loop](..\..\img\event-loop-1.png)

（1）浏览器内核*

​	GUI渲染线程 、 JS引擎线程 、 事件触发线程 、 定时器触发线程 、 http请求线程

*（2）*Javascript 有一个 main thread 主线程和 call-stack 调用栈(执行栈)，所有的任务都会被放到调用栈等待主线程执行。

*（3）循环机制*
	js调用栈（后进先出） 、 任务队列（先进先出）

*（4）* *任务分类*
	*广义*：同步异步

> ***同步任务指的是***，在主线程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务
>
> ***异步任务指的是***，不进入主线程、而进入"任务队列"（task queue）的任务，只有"任务队列"通知主线程，某个异步任务可以执行了，该任务才会进入主线程执行。

​	JavaScript 单线程中的任务可以细分为***宏任务(macro-task)***、***微任务(micro-task)***

> ***macro-task包括***：script(整体代码), setTimeout, setInterval, setImmediate, I/O, UI rendering。
>
> ***micro-task包括***：process.nextTick, Promises, Object.observe, MutationObserver。

（5）*回调函数（callback）*，就是那些会被主线程挂起来的代码。异步任务必须指定回调函数，当主线程开始执行异步任务，就是执行对应的回调函数。