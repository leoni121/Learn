[TOC]
## 1. [前端单页面首页加载优化优化简谈](https://blog.csdn.net/qq_41960337/article/details/87086533)

（1）UI设计师对图片进行一次压缩，到了前端工程师手上再进行一次压缩

（2）第一部分：一般的单页面都会涉及到路由加载。在第一次加载的时候，只需要加载首页的路由即可，其他的路由可以进行懒加载

（3）减小第三方插件的包。相对从服务器加载数十甚至数百兆的资源，更倾向从cdn引入。并行下载速度

## 2. vue项目实现按需加载的3种方式 ##

[参考-博客](https://segmentfault.com/a/1190000011519350)

### 2.1 vue异步组件技术 ###

vue-router配置路由，使用vue的[异步组件](https://cn.vuejs.org/v2/guide/components.html#%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6)技术，可以实现按需加载。

但是，这种情况下***一个组件生成一个js文件***。
举例如下：

```js
{
    path: '/promisedemo',
    name: 'PromiseDemo',
    component: resolve => require(['../components/PromiseDemo'], resolve)
}
```

### 2.2 es提案的import() ###

- 推荐使用这种方式(需要webpack > 2.4)
- webpack import() 动态加载模块踩坑：[webpack中使用import()](<https://segmentfault.com/a/1190000015648036>)
  vue官方文档：[路由懒加载(使用import())](https://router.vuejs.org/zh-cn/advanced/lazy-loading.html)

***指定了相同的webpackChunkName，会合并打包成一个js文件。***

vue-router配置路由，代码如下：

```js
// 没有指定webpackChunkName，每个组件打包成一个js文件。
...
// 指定了相同的webpackChunkName，会合并打包成一个js文件。
const ImportFuncDemo = () => import(/* webpackChunkName: 'ImportFuncDemo' */ '../components/ImportFuncDemo')
```

### 2.3 webpack提供的require.ensure() ###

> `require.ensure()` *是 webpack 特有的，已经被* `import()` *取代。*

这种情况下，***多个路由指定相同的chunkName，会合并打包成一个js文件。***
举例如下：

```
{
    path: '/promisedemo',
    name: 'PromiseDemo',
    component: resolve => require.ensure([], () => resolve(require('../components/PromiseDemo')), 'demo')
},
{
    path: '/hello',
    name: 'Hello',
    // component: Hello
    component: resolve => require.ensure([], () => resolve(require('../components/Hello')), 'demo')
}
```



