<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- 引入 bootstrap样式 -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>
<div class="login-wrap">
    <form action="http://www.baidu.com">
        <div class="form-group">
            <label for="exampleInputEmail1">Email address</label>
            <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Email">
        </div>
        <div class="form-group">
            <label for="exampleInputPassword1">Password</label>
            <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
        </div>
        <div class="checkbox">
            <label>
                <input type="checkbox" id="checkbox"> Check me out
            </label>
        </div>
        <button type="submit" id="submit" class="btn btn-default">Submit</button>
    </form>

    <div class="text-success" id="notFormData">这里是非表单拿数据</div>
</div>

<!-- 引人入jquery.js -->
<script src="js/jquery-3.3.1.js"></script>
<!-- 引入 bootstrap.js -->
<script src="js/bootstrap.min.js"></script>
<!-- 这里放入 ajax 代码 -->
<script>
  $(document).ready(function () {

    // 获取json对象
    function getJsonData () {
      // 获取表单中 ，，所需的数据
      let exampleInputEmail1 = $('#exampleInputEmail1').val();
      let exampleInputPassword1 = $('#exampleInputPassword1').val();
      let checkbox = $('#checkbox').val();
      // 获取非表单中，，，所需数据
      let notFormData = $("#notFormData").text();
      // 生成相应的json对象
      let jsonData = {};
      jsonData.exampleInputEmail1 = exampleInputEmail1;
      jsonData.exampleInputPassword1 = exampleInputPassword1;
      jsonData.checkbox = checkbox;
      jsonData.notFormData = notFormData;

      // 返回json
      return JSON.stringify(jsonData);
    }
    // 提交信息
    function submitJson (jsonData) {
      // console.log(jsonData); --- 打开这个地方 ， 可以测试数据正确性
      $.ajax({
        // 路径
        url:'自己填',
        // 请求类型
        type : 'POST',
        // 是否异步
        async : true,
        // 发送数据到服务器时所使用的内容类型。
        contentType : 'application/json',
        // 待发送的数据
        data : jsonData,
        // 预期的服务器相应的数据类型
        dataType : 'json',
        // 设置超时 时长 -- 5s
        timeout : 5000,
        // 成功是的处理函数
        success : function (result) { //result 请求结果
          // 弹出框
          alert('成功');
        },
        // 错误时的处理函数
        error : function (error) { // error 错误对象
          // 弹出框
          alert('失败');
        },
        // 请求完成 所需处理函数
        complete : function(XMLHttpRequest,status){ //请求完成后最终执行参数
          if(status==='timeout'){//超时,status还有success,error等值的情况
            alert("超时");
          }
        }
      })
    }
    // 当按钮被点击时的 处理程序
    $('#submit').click(function (event) {
      // 阻止默认事件  ，加上
      event.preventDefault();
      // 获取jsonData
      let jsonData = getJsonData();
      // submit
      submitJson(jsonData);
    })
  })
</script>
</body>
</html>